<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Управление Пользователями</title>
</head>
<body>
<div th:fragment="content">
    <h2>Управление Пользователями</h2>

    <!-- Общие сообщения об ошибках или успехе -->
    <div th:if="${error}" class="error-message">
        <p th:text="${error}"></p>
    </div>
    <div th:if="${success}" class="success-message">
        <p th:text="${success}"></p>
    </div>

    <!-- Форма создания нового пользователя -->
    <form th:action="@{/users/create}" method="post">
        <div>
            <label for="username">Имя пользователя:</label>
            <input type="text" id="username" name="username" placeholder="Введите имя пользователя" required />
        </div>
        <div>
            <label for="password">Пароль:</label>
            <input type="password" id="password" name="password" placeholder="Введите пароль" required />
        </div>
        <div>
            <label for="roleName">Роль:</label>
            <input type="text" id="roleName" name="roleName" placeholder="Введите роль пользователя" required />
        </div>
        <button type="submit">Создать Пользователя</button>
    </form>

    <!-- Список существующих пользователей -->
    <h3>Существующие Пользователи</h3>
    <table border="1" cellpadding="10" cellspacing="0">
        <thead>
        <tr>
            <th>ID</th>
            <th>Имя пользователя</th>
            <th>Роль</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${users}">
            <td th:text="${user.id}">1</td>
            <td th:text="${user.username}">username</td>
            <td th:text="${user.role.name}">ROLE_USER</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
